var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _Stack=require("../../primitives/Stack");var _hooks=require("../../../hooks");var _nativeBase=require("native-base");var _usePropsResolution2=require("../../../hooks/useThemeProps/usePropsResolution");var _Text=_interopRequireDefault(require("../../primitives/Text"));var _Icons=require("../../primitives/Icon/Icons");var _useHasResponsiveProps=require("../../../hooks/useHasResponsiveProps");var _this=this,_jsxFileName="/Users/suraj/Sites/projects/NativeBase/src/components/composites/Breadcrumb/Breadcrumb.tsx";var Breadcrumb=function Breadcrumb(_ref,ref){var style=_ref.style,children=_ref.children,separator=_ref.separator,_text=_ref._text,maxItems=_ref.maxItems,_button=_ref._button,isCollapsed=_ref.isCollapsed,onCollapseChange=_ref.onCollapseChange,props=(0,_objectWithoutProperties2.default)(_ref,["style","children","separator","_text","maxItems","_button","isCollapsed","onCollapseChange"]);var textProps=(0,_extends2.default)({},_text);var _useControllableState=(0,_hooks.useControllableState)({value:isCollapsed,defaultValue:false,onChange:function onChange(value){onCollapseChange&&onCollapseChange(value);}}),_useControllableState2=(0,_slicedToArray2.default)(_useControllableState,2),collapsed=_useControllableState2[0],setCollapsed=_useControllableState2[1];var _usePropsResolution=(0,_usePropsResolution2.usePropsResolution)('Breadcrumb',props),spacing=_usePropsResolution.spacing,newProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,["spacing"]);var separatorProps={accessibilityRole:_reactNative.Platform.OS==='web'?'presentation':undefined};var separatorElement=separator?typeof separator==='string'?_react.default.createElement(_Text.default,(0,_extends2.default)({},separatorProps,{mx:spacing,__self:_this,__source:{fileName:_jsxFileName,lineNumber:46,columnNumber:7}}),separator):_react.default.cloneElement(separator,(0,_extends2.default)({mx:spacing},separatorProps)):_react.default.createElement(_Text.default,(0,_extends2.default)({mx:spacing},separatorProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:56,columnNumber:5}}),'/');if((0,_useHasResponsiveProps.useHasResponsiveProps)(props)){return null;}return _react.default.createElement(_Stack.HStack,(0,_extends2.default)({display:"flex",flexWrap:"wrap"},newProps,{ref:ref,style:style,divider:separatorElement,space:spacing,accessibilityRole:_reactNative.Platform.OS==='web'?'navigation':undefined,accessibilityLabel:"Breadcrumb",__self:_this,__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:5}}),children&&!children.length?children:getBreadcrumbSeparator(children,textProps,maxItems,_button,collapsed,setCollapsed));};var getBreadcrumbSeparator=function getBreadcrumbSeparator(children,props,maxItems,_button,collapsed,setCollapsed){if(Array.isArray(children)){if(children.length===1){return children;}var result=[];if(maxItems){var buttonAdded=false;if(typeof maxItems=='number'){if(children.length>2*maxItems){for(var i=0;i<children.length;i++){if(i<maxItems||i>=children.length-maxItems){result.push(children[i]);}else{if(!buttonAdded){result.push(_react.default.createElement(CollapseButton,(0,_extends2.default)({},_button,{setCollapsed:setCollapsed,__self:_this,__source:{fileName:_jsxFileName,lineNumber:118,columnNumber:19}})));buttonAdded=true;}}}buttonAdded=false;}}else if(typeof maxItems=='object'){if(children.length>maxItems[0]+maxItems[1])for(var _i=0;_i<children.length;_i++){if(_i<maxItems[0]||_i>=children.length-maxItems[1]){result.push(children[_i]);}else{if(!buttonAdded){result.push(_react.default.createElement(CollapseButton,(0,_extends2.default)({},_button,{setCollapsed:setCollapsed,__self:_this,__source:{fileName:_jsxFileName,lineNumber:137,columnNumber:19}})));buttonAdded=true;}}}buttonAdded=false;}}else{result=children;}if(!collapsed){result=children;}return result.map(function(child,index){return _react.default.cloneElement(child,(0,_extends2.default)({_text:(0,_extends2.default)({},props)},props,{key:"breadcrumb-separator-"+index}));});}else{return children;}};var CollapseButton=function CollapseButton(props){var remainingProps=(0,_extends2.default)({},props);return _react.default.createElement(_nativeBase.Pressable,(0,_extends2.default)({},remainingProps,{onPress:function onPress(){props.setCollapsed(false);},__self:_this,__source:{fileName:_jsxFileName,lineNumber:168,columnNumber:5}}),_react.default.createElement(_Icons.ThreeDotsIcon,{size:4,__self:_this,__source:{fileName:_jsxFileName,lineNumber:174,columnNumber:7}}));};var _default=(0,_react.memo)((0,_react.forwardRef)(Breadcrumb));exports.default=_default;
//# sourceMappingURL=Breadcrumb.js.map