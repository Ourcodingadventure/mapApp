{"version":3,"sources":["index.tsx"],"names":["StyledBox","View","MemoizedGradient","Box","ref","children","props","_text","resolvedProps","Gradient","config","dependencies","safeAreaProps","bg","linearGradient","background","bgColor","backgroundColor","lgrad","startObj","x","y","endObj","start","length","end","backgroundColorProps","forEach","backgroundColorProp","colors","locations","React","Children","map","child","type","Fragment"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { View } from 'react-native';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport Text from './../Text';\nimport { makeStyledComponent } from '../../../utils/styled';\nimport type { IBoxProps } from './types';\nimport { useSafeArea } from '../../../hooks/useSafeArea';\nimport { useNativeBaseConfig } from '../../../core/NativeBaseContext';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst StyledBox = makeStyledComponent(View);\n\nlet MemoizedGradient: any;\n\nconst Box = ({ children, ...props }: IBoxProps, ref: any) => {\n  // const { _text, ...resolvedProps } = useThemeProps('Box', props);\n  const { _text, ...resolvedProps } = usePropsResolution('Box', props);\n  let Gradient = useNativeBaseConfig('NativeBaseConfigProvider').config\n    .dependencies?.['linear-gradient'];\n\n  const safeAreaProps = useSafeArea(resolvedProps);\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  if (\n    resolvedProps.bg?.linearGradient ||\n    resolvedProps.background?.linearGradient ||\n    resolvedProps.bgColor?.linearGradient ||\n    resolvedProps.backgroundColor?.linearGradient\n  ) {\n    const lgrad =\n      resolvedProps.bg?.linearGradient ||\n      resolvedProps.background?.linearGradient ||\n      resolvedProps.bgColor?.linearGradient ||\n      resolvedProps.backgroundColor?.linearGradient;\n\n    if (Gradient) {\n      if (!MemoizedGradient) {\n        MemoizedGradient = makeStyledComponent(Gradient);\n      }\n\n      Gradient = MemoizedGradient;\n\n      let startObj = { x: 0, y: 0 };\n      let endObj = { x: 0, y: 1 };\n      if (lgrad.start && lgrad.start.length === 2) {\n        startObj = {\n          x: lgrad.start[0],\n          y: lgrad.start[1],\n        };\n      }\n      if (lgrad.end && lgrad.end.length === 2) {\n        endObj = {\n          x: lgrad.end[0],\n          y: lgrad.end[1],\n        };\n      }\n      const backgroundColorProps = [\n        'bg',\n        'bgColor',\n        'background',\n        'backgroundColor',\n      ];\n      backgroundColorProps.forEach((backgroundColorProp) => {\n        if (backgroundColorProp in safeAreaProps)\n          delete safeAreaProps[backgroundColorProp];\n      });\n\n      return (\n        <Gradient\n          ref={ref}\n          {...safeAreaProps}\n          colors={lgrad.colors}\n          start={startObj}\n          end={endObj}\n          locations={lgrad.locations}\n        >\n          {React.Children.map(children, (child) =>\n            typeof child === 'string' || typeof child === 'number' ? (\n              <Text {..._text}>{child}</Text>\n            ) : (\n              child\n            )\n          )}\n        </Gradient>\n      );\n    }\n  }\n  return (\n    <StyledBox ref={ref} {...safeAreaProps}>\n      {React.Children.map(children, (child) => {\n        return typeof child === 'string' ||\n          typeof child === 'number' ||\n          (child?.type === React.Fragment &&\n            (typeof child.props?.children === 'string' ||\n              typeof child.props?.children === 'number')) ? (\n          <Text {..._text}>{child}</Text>\n        ) : (\n          child\n        );\n      })}\n    </StyledBox>\n  );\n};\n\nexport type { IBoxProps };\n\nexport default memo(forwardRef(Box));\n"]}