var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.NativeBaseProvider=void 0;var _react=_interopRequireDefault(require("react"));var _native=require("styled-components/native");var _reactNativeSafeAreaContext=require("react-native-safe-area-context");var _utils=require("@react-native-aria/utils");var _theme=require("./../theme");var _HybridProvider=_interopRequireDefault(require("./hybrid-overlay/HybridProvider"));var _overlays=require("@react-native-aria/overlays");var _Toast=require("../components/composites/Toast");var _NativeBaseContext=require("./NativeBaseContext");var _reactNative=require("react-native");var _utils2=require("../theme/tools/utils");var _this=this,_jsxFileName="/Users/suraj/Sites/projects/NativeBase/src/core/NativeBaseProvider.tsx";var defaultInitialWindowMetricsBasedOnPlatform=_reactNative.Platform.select({web:{frame:{x:0,y:0,width:0,height:0},insets:{top:0,left:0,right:0,bottom:0}},default:_reactNativeSafeAreaContext.initialWindowMetrics});var NativeBaseProvider=function NativeBaseProvider(props){var _config$theme,_useWindowDimensions;var colorModeManager=props.colorModeManager,_props$config=props.config,config=_props$config===void 0?_NativeBaseContext.defaultConfig:_props$config,children=props.children,_props$theme=props.theme,propsTheme=_props$theme===void 0?_theme.theme:_props$theme,initialWindowMetrics=props.initialWindowMetrics,isSSR=props.isSSR;var theme=(_config$theme=config.theme)!=null?_config$theme:propsTheme;var newTheme=_react.default.useMemo(function(){if(config.enableRem){return(0,_utils2.platformSpecificSpaceUnits)(theme);}return theme;},[config.enableRem,theme]);var windowWidth=(_useWindowDimensions=(0,_reactNative.useWindowDimensions)())==null?void 0:_useWindowDimensions.width;var currentBreakpoint=_react.default.useMemo(function(){return(0,_utils2.getClosestBreakpoint)(newTheme.breakpoints,windowWidth);},[windowWidth,newTheme.breakpoints]);return _react.default.createElement(_native.ThemeProvider,{theme:newTheme,__self:_this,__source:{fileName:_jsxFileName,lineNumber:75,columnNumber:5}},_react.default.createElement(_NativeBaseContext.NativeBaseConfigProvider,{config:config,currentBreakpoint:currentBreakpoint,isSSR:isSSR,__self:_this,__source:{fileName:_jsxFileName,lineNumber:76,columnNumber:7}},_react.default.createElement(_reactNativeSafeAreaContext.SafeAreaProvider,{initialMetrics:initialWindowMetrics!=null?initialWindowMetrics:defaultInitialWindowMetricsBasedOnPlatform,__self:_this,__source:{fileName:_jsxFileName,lineNumber:81,columnNumber:9}},_react.default.createElement(_HybridProvider.default,{colorModeManager:colorModeManager,options:theme.config,__self:_this,__source:{fileName:_jsxFileName,lineNumber:86,columnNumber:11}},_react.default.createElement(_overlays.OverlayProvider,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:90,columnNumber:13}},_react.default.createElement(_Toast.ToastProvider,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:15}},_react.default.createElement(InitializeToastRef,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:92,columnNumber:17}}),_react.default.createElement(_utils.SSRProvider,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:93,columnNumber:17}},children)))))));};exports.NativeBaseProvider=NativeBaseProvider;var InitializeToastRef=function InitializeToastRef(){var toast=(0,_Toast.useToast)();_Toast.ToastRef.current=toast;return null;};
//# sourceMappingURL=NativeBaseProvider.js.map