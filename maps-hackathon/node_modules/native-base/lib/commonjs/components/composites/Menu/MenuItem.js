var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _Text=_interopRequireDefault(require("../../primitives/Text"));var _useThemeProps=require("../../../hooks/useThemeProps");var _Pressable=require("../../primitives/Pressable");var _MenuContext=require("./MenuContext");var _useMenu=require("./useMenu");var _utils=require("../../../utils");var _useHasResponsiveProps=require("../../../hooks/useHasResponsiveProps");var _this=this,_jsxFileName="/Users/suraj/Sites/projects/NativeBase/src/components/composites/Menu/MenuItem.tsx";var MenuItem=function MenuItem(_ref,ref){var children=_ref.children,isDisabled=_ref.isDisabled,_onPress=_ref.onPress,style=_ref.style,textValue=_ref.textValue,props=(0,_objectWithoutProperties2.default)(_ref,["children","isDisabled","onPress","style","textValue"]);var _React$useContext=_react.default.useContext(_MenuContext.MenuContext),closeOnSelect=_React$useContext.closeOnSelect,onClose=_React$useContext.onClose;var menuItemRef=_react.default.useRef(null);var mergedRef=(0,_utils.mergeRefs)([menuItemRef,ref]);var _usePropsResolution=(0,_useThemeProps.usePropsResolution)('MenuItem',props,{isDisabled:isDisabled}),_text=_usePropsResolution._text,resolvedProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,["_text"]);var _React$useState=_react.default.useState(''),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),textContent=_React$useState2[0],setTextContent=_React$useState2[1];_react.default.useEffect(function(){var menuItem=menuItemRef.current;if(menuItem){var _menuItem$textContent;setTextContent(((_menuItem$textContent=menuItem.textContent)!=null?_menuItem$textContent:'').trim());}},[children]);var menuItemProps=(0,_useMenu.useMenuItem)({textValue:textValue!=null?textValue:textContent,ref:menuItemRef});if((0,_useHasResponsiveProps.useHasResponsiveProps)(props)){return null;}return _react.default.createElement(_Pressable.Pressable,(0,_extends2.default)({},menuItemProps,resolvedProps,{ref:mergedRef,style:style,disabled:isDisabled,accessibilityState:{disabled:isDisabled},onPress:function onPress(e){if(!isDisabled){_onPress&&_onPress(e);if(closeOnSelect){onClose&&onClose();}}},__self:_this,__source:{fileName:_jsxFileName,lineNumber:39,columnNumber:5}}),_react.default.createElement(_react.default.Fragment,null,_react.default.Children.map(children,function(child,index){if(typeof child==='string'||typeof child==='number'){return _react.default.createElement(_Text.default,(0,_extends2.default)({},_text,{key:"menu-item-"+index,__self:_this,__source:{fileName:_jsxFileName,lineNumber:62,columnNumber:15}}),child);}else{return child;}})));};var _default=(0,_react.memo)((0,_react.forwardRef)(MenuItem));exports.default=_default;
//# sourceMappingURL=MenuItem.js.map